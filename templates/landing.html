<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0d9488">
  <title>LINE to Nextcloud Backup</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230d9488'%3E%3Cpath d='M12 2L2 7v10l10 5 10-5V7L12 2z'/%3E%3C/svg%3E" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #fafaf9;
      --surface: #ffffff;
      --border: #e7e5e4;
      --text: #1c1917;
      --muted: #78716c;
      --accent: #0d9488;
      --accent-hover: #0f766e;
      --radius: 16px;
      --radius-btn: 12px;
      --touch: 44px;
      --content-max: 960px;
      --side: clamp(1.25rem, 4vw, 2rem);
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; min-height: 100%; font-family: 'DM Sans', system-ui, sans-serif; font-size: 1rem; line-height: 1.5; color: var(--text); background: var(--bg); }
    .page { min-height: 100vh; display: flex; flex-direction: column; padding: 0 var(--side); }
    .header {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 0.75rem var(--side);
      margin: 0 calc(-1 * var(--side));
    }
    .header-inner { max-width: var(--content-max); margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
    .header a { font-weight: 600; color: var(--text); text-decoration: none; font-size: 0.9375rem; }
    .header a:hover { color: var(--accent); }
    .main { max-width: var(--content-max); margin: 0 auto; flex: 1; display: flex; align-items: center; width: 100%; padding: clamp(1rem, 3vw, 2rem) 0; }
    .hero { flex: 1; min-width: 0; }
    .hero-title { font-size: clamp(1.5rem, 4vw, 2rem); font-weight: 700; letter-spacing: -0.03em; color: var(--text); margin: 0 0 0.35rem; line-height: 1.2; }
    .hero-title .arrow { color: var(--accent); }
    .hero-desc { color: var(--muted); font-size: 0.9375rem; margin-bottom: 1.25rem; max-width: 36ch; }
    .cta { display: flex; flex-wrap: wrap; gap: 0.6rem; }
    .btn {
      padding: 0 1.25rem; min-height: var(--touch); font-size: 0.875rem; font-weight: 600; border-radius: var(--radius-btn);
      text-decoration: none; display: inline-flex; align-items: center; justify-content: center; font-family: inherit;
      transition: background .2s, color .2s, border-color .2s; border: 2px solid transparent; cursor: pointer;
    }
    .btn--primary { background: var(--accent); color: #fff; }
    .btn--primary:hover { background: var(--accent-hover); }
    .btn--outline { background: transparent; color: var(--text); border-color: var(--border); }
    .btn--outline:hover { border-color: var(--accent); color: var(--accent); }
    .aside { flex: 0 0 auto; width: 100%; max-width: 320px; margin-left: clamp(1.5rem, 4vw, 3rem); }
    .how { font-size: 0.8125rem; color: var(--muted); line-height: 1.65; }
    .how strong { color: var(--text); font-weight: 600; }
    .footer { max-width: var(--content-max); margin: 0 auto; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; color: var(--muted); width: 100%; }
    .footer a { color: var(--muted); text-decoration: none; }
    .footer a:hover { color: var(--accent); }
    .config-check { margin-bottom: 1rem; padding: 0.75rem 1rem; background: #fef3c7; border: 1px solid #f59e0b; border-radius: var(--radius); font-size: 0.875rem; color: #92400e; }
    .config-check code { background: rgba(0,0,0,.06); padding: 0.1em 0.35em; border-radius: 4px; }
    @media (max-width: 720px) {
      .main { flex-direction: column; align-items: flex-start; }
      .aside { margin-left: 0; margin-top: 1.25rem; max-width: none; }
      .cta .btn { min-width: 0; }
    }
    @media (max-width: 400px) { .cta .btn { width: 100%; } }
  </style>
</head>
<body>
  <div class="page">
    <header class="header">
      <div class="header-inner">
        <a href="/">LINE Backup</a>
        <a href="/status">Status</a>
      </div>
    </header>
    <main class="main">
      {{ config_check }}
      <div class="hero">
        <h1 class="hero-title">LINE <span class="arrow">→</span> Nextcloud</h1>
        <p class="hero-desc">Send a number in LINE, then media or links — saved to Nextcloud by folder and date.</p>
        <div class="cta">
          <a href="/admin" class="btn btn--outline">Manage source map</a>
          {{ nextcloud_link }}
        </div>
      </div>
      <aside class="aside">
        <p class="how"><strong>How it works:</strong> Send a number (e.g. 1) in LINE to choose a folder, then send photos, videos, files or links. Files go to LINE_Backup / folder / date / type. Use Manage source map to edit number→folder (login required).</p>
      </aside>
    </main>
    <footer class="footer">LINE Bot + Nextcloud{{ github_foot }}</footer>
  </div>
</body>
</html>
